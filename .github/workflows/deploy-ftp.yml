name: Deploy OHS Construction to cPanel (FTP)

on:
    push:
        branches: ["main"]
    workflow_dispatch:

jobs:
    deploy:
        runs-on: ubuntu-latest

        steps:
            - name: ðŸ“¥ Checkout repository
              uses: actions/checkout@v4

            - name: ðŸš€ Deploy via FTP
              uses: SamKirkland/FTP-Deploy-Action@v4.3.4
              with:
                  server: ${{ secrets.FTP_SERVER }}
                  username: ${{ secrets.FTP_USERNAME }}
                  password: ${{ secrets.FTP_PASSWORD }}
                  server-dir: /public_html/
                  exclude: |
                      **/.git*
                      **/.git*/**
                      **/node_modules/**
                      **/*.txt
                      **/projet*/**
                      .github/**
                      CI-CD.md
                      README.md
                      NEXT-STEPS.md

            - name: âœ… Deployment successful
              run: echo "ðŸŽ‰ Site deployed successfully via FTP"
